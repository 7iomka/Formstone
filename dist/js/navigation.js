/*! Formstone v0.0.1 [navigation.js] 2014-12-06 | MIT License | formstone.it */

!function(a,b){"use strict";function c(b){b.enabled=!0,b.open=!1,this.addClass([l.base,b.customClass].join(" ")).wrapInner('<div class="'+l.container+'"></div>'),b.$container=this.find(k.container),b.$handle=b.handle?a(b.handle).addClass(l.handle):a('<span class="'+l.handle+'"></span>').prependTo(this),b.$toggles=a().add(this).add(b.$handle),b.label&&b.$handle.text(b.labels.closed),b.$handle.touch({tap:!0}).on(m.tap,b,i),h.call(b.$el,b),a.mediaquery("bind","(max-width:"+(1/0===b.maxWidth?"100000px":b.maxWidth)+")",{enter:function(){g.call(b.$el,b)},leave:function(){h.call(b.$el,b)}})}function d(a){a.handle||a.$handle.remove(),a.$container.contents().unwrap(),this.removeClass([l.base,l.enabled,l.open,a.customClass].join(" ")).off(m.namespace)}function e(a){a.enabled&&!a.open&&(a.label&&a.$handle.html(a.labels.open),a.$toggles.addClass(l.open),this.trigger(m.open),a.open=!0)}function f(a){a.enabled&&a.open&&(a.label&&a.$handle.html(a.labels.closed),a.$toggles.removeClass(l.open),this.trigger(m.close),a.open=!1)}function g(a){a.enabled||(this.addClass(l.enabled),a.handle&&a.$handle.addClass([l.handle,l.enabled].join(" ")),a.enabled=!0,a.open=!0,f.call(this,a))}function h(a){a.enabled&&(a.$toggles.removeClass([l.enabled,l.open].join(" ")),a.handle&&a.$handle.removeClass([l.handle,l.enabled,l.open].join(" ")),a.enabled=!1)}function i(b){n.killEvent(b);var c=b.data;a(k.base).not(c.$el)[j.namespace]("close"),c.open?f.call(c.$el,c):e.call(c.$el,c)}var j=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",handle:null,label:!0,labels:{closed:"Navigation",open:"Close"},maxWidth:"980px"},classes:["handle","container","enabled","open"],events:{tap:"tap",open:"open",close:"close"},methods:{_construct:c,_destruct:d,open:e,close:f,enable:g,disable:h}}),k=j.classes,l=k.raw,m=j.events,n=j.functions}(jQuery,Formstone);