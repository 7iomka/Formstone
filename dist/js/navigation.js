/*! Formstone v0.0.1 [navigation.js] 2014-12-08 | MIT License | formstone.it */

!function(a,b){"use strict";function c(){s=a("body, html")}function d(b){return b.handle||b.handle||"toggle"===b.type?(b.guid="__"+r++,b.eventGuid=q.namespace+b.guid,b.containerGuid=p.container+b.guid,b.handleClasses=[p.handle,p[b.type]].join(" "),b.targetClasses=[p.container,p[b.type]].join(" "),b.pageClasses=[p.page,p[b.type]].join(" "),b.$container=a(),this.addClass([p.base,b.customClass].join(" ")).wrapInner('<div class="'+b.containerGuid+'"></div>'),b.$container=this.find("."+b.containerGuid),b.$handle=b.handle?a(b.handle).addClass(b.handleClasses):a('<span class="'+b.handleClasses+'"></span>').prependTo(this),b.$page=a(b.page).addClass(b.pageClasses),b.label&&b.$handle.text(b.labels.closed),"toggle"!==b.type&&b.$page.after(b.$container.detach()),b.$handle.attr("data-toggle-target","."+b.containerGuid).toggle({classes:{target:o.container,enabled:o.enabled,active:o.open,raw:{target:b.targetClasses,enabled:p.enabled,active:p.open}}}).on("activate.toggle"+b.eventGuid,b,j).on("deactivate.toggle"+b.eventGuid,b,k).on("enable.toggle"+b.eventGuid,b,l).on("disable.toggle"+b.eventGuid,b,m),i.call(b.$el,b),void a.mediaquery("bind","(max-width:"+(1/0===b.maxWidth?"100000px":b.maxWidth)+")",{enter:function(){h.call(b.$el,b)},leave:function(){i.call(b.$el,b)}})):void a.warn("Navigation: You must specify a handle and page")}function e(a){"toggle"!==a.type&&this.append(a.$container),a.$page.removeClass(a.pageClasses),a.$handle.removeClass(a.handleClasses).off("data.eventGuid").toggle("destroy"),a.handle||a.$handle.remove(),a.$container.contents().unwrap(),this.removeClass([p.base,a.customClass].join(" ")).off(q.namespace)}function f(a){a.label&&a.$handle.html(a.labels.open),a.$handle.toggle("activate")}function g(a){a.label&&a.$handle.html(a.labels.closed),a.$handle.toggle("deactivate")}function h(a){a.$handle.toggle("enable")}function i(a){a.$handle.toggle("disable")}function j(a){var b=a.data;b.$el.trigger(q.open),b.$page.addClass(p.open)}function k(a){var b=a.data;b.$el.trigger(q.close),b.$page.removeClass(p.open)}function l(a){var b=a.data;b.$page.addClass(p.enabled)}function m(a){var b=a.data;b.$page.removeClass(p.enabled)}var n=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",handle:null,label:!0,labels:{closed:"Navigation",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","container","page","enabled","open","toggle","slide_left","slide_right","overlay"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:c,_construct:d,_destruct:e,open:f,close:g,enable:h,disable:i}}),o=n.classes,p=o.raw,q=n.events,r=(n.functions,0),s=null}(jQuery,Formstone);