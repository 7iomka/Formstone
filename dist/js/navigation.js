/*! Formstone v0.0.1 [navigation.js] 2014-12-13 | MIT License | formstone.it */

!function(a,b){"use strict";function c(b){b.guid="__"+r++,b.eventGuid=q.namespace+b.guid,b.rawClassGuid=p.base+b.guid,b.classGuid="."+b.rawClassGuid,"toggle"===b.type&&(b.gravity="");var c=p[b.type]||"",d=p[b.gravity]||"",e=[c,b.rawClassGuid,b.customClass].join(" ");b.handle=this.data(n+"-handle"),b.content=this.data(n+"-content"),b.handleClasses=[p.handle,e].join(" "),b.navClasses=[p.navigation,e,d].join(" "),b.contentClasses=[p.content,e,"push"===b.type?d:""].join(" "),b.$nav=this.addClass(b.navClasses),b.$handle=a(b.handle).addClass(b.handleClasses),b.$content=a(b.content).addClass(b.contentClasses),b.$animate=a().add(b.$nav).add(b.$content),b.label&&b.$handle.text(b.labels.closed),b.$handle.attr("data-toggle-target",b.classGuid).on("activate.toggle"+b.eventGuid,b,i).on("deactivate.toggle"+b.eventGuid,b,j).on("enable.toggle"+b.eventGuid,b,k).on("disable.toggle"+b.eventGuid,b,l).toggle({maxWidth:b.maxWidth,classes:{target:b.classGuid,enabled:o.enabled,active:o.open,raw:{target:b.rawClassGuid,enabled:p.enabled,active:p.open}}})}function d(a){a.$content.removeClass(a.contentClasses),a.$handle.removeClass(a.handleClasses).off(a.eventGuid).toggle("destroy"),this.removeClass(a.navClasses).off(q.namespace)}function e(a){a.$handle.toggle("activate")}function f(a){a.$handle.toggle("deactivate")}function g(a){a.$handle.toggle("enable")}function h(a){a.$handle.toggle("disable")}function i(a){var b=a.data;b.$el.trigger(q.open),b.$content.addClass(p.open),b.label&&b.$handle.text(b.labels.open)}function j(a){var b=a.data;b.$el.trigger(q.close),b.$content.removeClass(p.open),b.label&&b.$handle.text(b.labels.closed)}function k(a){var b=a.data;b.$content.addClass(p.enabled),setTimeout(function(){b.$animate.addClass(p.animated)},0)}function l(a){var b=a.data;b.$content.removeClass(p.enabled,p.animated),b.$animate.removeClass(p.animated)}var m=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","navigation","content","animated","enabled","open","toggle","push","overlay","left","right"],events:{tap:"tap",open:"open",close:"close"},methods:{_construct:c,_destruct:d,open:e,close:f,enable:g,disable:h}}),n=m.namespace,o=m.classes,p=o.raw,q=m.events,r=(m.functions,0)}(jQuery,Formstone);