/*! Formstone v0.0.1 [navigation.js] 2014-12-06 | MIT License | formstone.it */

!function(a,b){"use strict";function c(b){b.guid="__"+p++,b.eventGuid=n.namespace+b.guid,b.containerGuid=m.container+b.guid,b.$container=a('<div class="'+b.containerGuid+'"></div>'),this.addClass([m.base,b.customClass].join(" ")).wrapInner(b.$container),b.$handle=b.handle?a(b.handle).addClass(m.handle):a('<span class="'+m.handle+'"></span>').prependTo(this),b.label&&b.$handle.text(b.labels.closed),b.$handle.attr("data-toggle-target","."+b.containerGuid).toggle({classes:{target:l.container,enabled:l.enabled,active:l.open,raw:{target:m.container,enabled:m.enabled,active:m.open}}}).on("activate.toggle"+b.eventGuid,b,i).on("deactivate.toggle"+b.eventGuid,b,j),h.call(b.$el,b),a.mediaquery("bind","(max-width:"+(1/0===b.maxWidth?"100000px":b.maxWidth)+")",{enter:function(){g.call(b.$el,b)},leave:function(){h.call(b.$el,b)}})}function d(a){a.$handle.off("data.eventGuid").toggle("destroy"),a.handle||a.$handle.remove(),a.$container.contents().unwrap(),this.removeClass([m.base,a.customClass].join(" ")).off(n.namespace)}function e(a){a.label&&a.$handle.html(a.labels.open),a.$handle.toggle("activate")}function f(a){a.label&&a.$handle.html(a.labels.closed),a.$handle.toggle("deactivate")}function g(a){a.$handle.toggle("enable")}function h(a){a.$handle.toggle("disable")}function i(b){o.killEvent(b);var c=b.data;a(l.base).not(c.$el)[k.namespace]("close"),c.$el.trigger(n.open)}function j(a){o.killEvent(a);var b=a.data;b.$el.trigger(n.close)}var k=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",handle:null,label:!0,labels:{closed:"Navigation",open:"Close"},maxWidth:"980px"},classes:["handle","container","enabled","open"],events:{tap:"tap",open:"open",close:"close"},methods:{_construct:c,_destruct:d,open:e,close:f,enable:g,disable:h}}),l=k.classes,m=l.raw,n=k.events,o=k.functions,p=0}(jQuery,Formstone);