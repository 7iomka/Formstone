/*! Formstone v0.0.1 [core.js] 2014-12-22 | MIT License | formstone.it */

var Formstone=this.Formstone=function(a,b,c){"use strict";function d(a,b,c,d){var e,f={raw:{}};d=d||{};for(e in d)d.hasOwnProperty(e)&&("classes"===a?(f.raw[d[e]]=b+"-"+d[e],f[d[e]]="."+b+"-"+d[e]):(f.raw[e]=d[e],f[e]=d[e]+"."+b));for(e in c)c.hasOwnProperty(e)&&("classes"===a?(f.raw[e]=c[e].replace(/{ns}/g,b),f[e]=c[e].replace(/{ns}/g,"."+b)):(f.raw[e]=c[e].replace(/.{ns}/g,""),f[e]=c[e].replace(/{ns}/g,b)));return f}function e(){var a,b={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},d=["transition","-webkit-transition"],e={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},f="transitionend",h="",j="",k=c.createElement("div");for(a in b)if(b.hasOwnProperty(a)&&a in k.style){f=b[a],g.support.transition=!0;break}i.transitionEnd=f+".{ns}";for(a in d)if(d.hasOwnProperty(a)&&d[a]in k.style){h=d[a];break}g.transition=h;for(a in e)if(e.hasOwnProperty(a)&&e[a]in k.style){g.support.transform=!0,j=e[a];break}g.transform=j}var f=function(){this.Plugins={},this.window=b,this.$window=a(b),this.document=c,this.$document=a(c),this.$body=null,this.userAgent=b.navigator.userAgent||b.navigator.vendor||b.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(b.File&&b.FileList&&b.FileReader),history:!!(b.history&&b.history.pushState&&b.history.replaceState),matchMedia:!(!b.matchMedia&&!b.msMatchMedia),raf:!(!b.requestAnimationFrame||!b.cancelAnimationFrame),touch:!!("ontouchstart"in b||b.DocumentTouch&&c instanceof b.DocumentTouch),transition:!1,transform:!1}},g=new f,h={base:"{ns}",element:"{ns}-element"},i={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};return f.prototype.Plugin=function(c,e){return g.Plugins[c]=function(c,e){function f(b){var d="object"===a.type(b);b=a.extend(!0,{},e.defaults,d?b:{});for(var f=this,g=0,h=f.length;h>g;g++){var i=f.eq(g);if(!k(i)){var j=i.data(c+"-options"),l=a.extend(!0,{$el:i},b,"object"===a.type(j)?j:{});e.methods._construct.apply(i,[l].concat(Array.prototype.slice.call(arguments,d?1:0))),i.addClass(e.classes.raw.element).data(s,l)}}return f}function g(){n.apply(this,[e.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(e.classes.raw.element).removeData(s)}function j(a){try{a.preventDefault(),a.stopPropagation()}catch(b){}}function k(a){return a.data(s)}function l(a,b,c,d){return m(a),d?setInterval(c,b):setTimeout(c,b)}function m(a,b){a&&(b?clearInterval(a):clearTimeout(a),a=null)}function n(a){for(var b=this,c=0,d=b.length;d>c;c++){var e=b.eq(c),f=k(e)||{};f&&a.apply(e,[f].concat(Array.prototype.slice.call(arguments,1)))}return b}function o(a,b){var c={};return c[a]=b,c}function p(b){if(this instanceof a){var c=e.methods[b];return"object"!==a.type(b)&&b?c&&0!==b.indexOf("_")?n.apply(this,[c].concat(Array.prototype.slice.call(arguments,1))):this:f.apply(this,arguments)}}function q(c){var d=e.utilities[c]||e.utilities._initialize||!1;d&&d.apply(b,Array.prototype.slice.call(arguments,"object"===a.type(c)?0:1))}function r(b){e.defaults=a.extend(!0,e.defaults,b||{})}var s="fs-"+c;return e.initialized=!1,e.classes=d("classes",s,h,e.classes),e.events=d("events",c,i,e.events),e.functions=a.extend({getData:k,startTimer:l,clearTimer:m,killEvent:j,iterate:n,prefix:o},e.functions),e.methods=a.extend(!0,{_setup:a.noop,_construct:a.noop,_destruct:a.noop,destroy:g},e.methods),e.utilities=a.extend(!0,{_initialize:!1,_delegate:!1,defaults:r},e.utilities),e.widget&&(a.fn[c]=p),a[c]=e.utilities._delegate||q,e.namespace=c,e}(c,e),g.Plugins[c]},a(function(){g.$body=a("body");for(var b in g.Plugins)g.Plugins.hasOwnProperty(b)&&!g.Plugins[b].initialized&&(g.Plugins[b].methods._setup.call(c),g.Plugins[b].initialized=!0)}),i.clickTouchStart=i.click+" "+i.touchStart,e(),g}(jQuery,this,document);