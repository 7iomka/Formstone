/*! 
 * Formstone v0.0.1 - 2014-11-26 
 * Library of modular javascript components. 
 * http://formstone.it/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */

var Formstone=this.Formstone=function(a,b,c){"use strict";function d(a,b,c,d){var e,f={};d=d||{};for(e in d)d.hasOwnProperty(e)&&(f[d[e]]="classes"===a?b+"-"+d[e]:d[e]+"."+b);for(e in c)c.hasOwnProperty(e)&&(f[e]=c[e].replace(/{ns}/g,b));return f}function e(){var a={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},b="transitionend",d=c.createElement("div");for(var e in a)a.hasOwnProperty(e)&&e in d.style&&(b=a[e],g.support.transition=!0);return b}var f=function(){this.Plugins={},this.$window=a(b),this.$document=a(c),this.$body=null,this.userAgent=b.navigator.userAgent||b.navigator.vendor||b.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.support={file:!!(b.File&&b.FileList&&b.FileReader),history:!!(b.history&&b.history.pushState&&b.history.replaceState),matchMedia:!(!b.matchMedia&&!b.msMatchMedia),raf:!(!b.requestAnimationFrame||!b.cancelAnimationFrame),touch:!!("ontouchstart"in b||b.DocumentTouch&&c instanceof b.DocumentTouch),transition:!1}},g=new f,h={base:"{ns}",element:"{ns}-element"},i={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};return f.prototype.Plugin=function(b,e){return g.Plugins[b]=function(b,e){function f(b){b=a.extend(!0,{},e.defaults,b);for(var c=this,d=0,f=c.length;f>d;d++){var g=c.eq(d);if(!k(g)){var h=a.extend(!0,{$el:g},b,g.data(r+"-options"));e.methods._construct.call(g,h),g.addClass(e.classes.element).data(r,h)}}return c}function g(){o.apply(this,[e.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(e.classes.element).removeData(r)}function j(a){try{a.preventDefault(),a.stopPropagation()}catch(b){}}function k(a){return a.data(r)}function l(a,b,c){return m(a),setTimeout(c,b)}function m(a){a&&(clearTimeout(a),a=null)}function n(a){return"."+a}function o(a){for(var b=this,c=0,d=b.length;d>c;c++){var e=b.eq(c),f=k(e)||{};f&&a.apply(e,[f].concat(Array.prototype.slice.call(arguments,1)))}return b}function p(b){return e.methods[b]&&0!==b.indexOf("_")?o.apply(this,[e.methods[b]].concat(Array.prototype.slice.call(arguments,1))):"object"!==a.type(b)&&b?this:f.apply(this,arguments)}function q(b){return"defaults"===b&&(e.defaults=a.extend(!0,e.defaults,arguments[1]||{})),this}var r="fs-"+b,s="fs."+b;return e.initialized=!1,e.classes=d("classes",r,h,e.classes),e.events=d("events",s,i,e.events),e.functions=a.extend({getData:k,startTimer:l,clearTimer:m,getClassName:n,killEvent:j,iterate:o},e.functions),e.methods=a.extend({_setup:a.noop,_construct:a.noop,_destruct:a.noop,_delegate:!1,destroy:g},e.methods),e.widget?(a.fn[b]=p,a[b]=q):a[b]=e.methods._delegate||p,a(function(){e.initialized||(e.initialized=!0,e.namespace=b,e.methods._setup.call(c))}),e}(b,e),g.Plugins[b]},a(function(){g.$body=a("body")}),i.transitionEnd=e()+".{ns}",i.clickTouchStart=i.click+" "+i.touchStart,g}(jQuery,this,document);