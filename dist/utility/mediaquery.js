!function(a,b){"use strict";function c(c){b.matchMediaSupport&&("object"!==a.type(c)||s?p[c]&&p[c].apply(this,Array.prototype.slice.call(arguments,1)):(d.apply(this,arguments),s=!0))}function d(b){b=b||{};for(var c in w)w.hasOwnProperty(c)&&(n[c]=b[c]?a.merge(b[c],n[c]):n[c]);n=a.extend(n,b),n.minWidth.sort(i),n.maxWidth.sort(h),n.minHeight.sort(i),n.maxHeight.sort(h);for(var d in w)if(w.hasOwnProperty(d)){v[d]={};for(var e in n[d])if(n[d].hasOwnProperty(e)){var g=window.matchMedia("("+w[d]+": "+(1/0===n[d][e]?1e5:n[d][e])+n.unit+")");g.addListener(f),v[d][n[d][e]]=g}}f()}function e(){t={unit:n.unit};for(var a in w)if(w.hasOwnProperty(a))for(var b in v[a])if(v[a].hasOwnProperty(b)&&v[a][b].matches){var c="Infinity"===b?1/0:parseInt(b,10);a.indexOf("max")>-1?(!t[a]||c<t[a])&&(t[a]=c):(!t[a]||c>t[a])&&(t[a]=c)}}function f(){e(),q.trigger(o.change,[t])}function g(a){var b=j(a.media),c=u[b],d=a.matches?o.enter:o.leave;if(c.active||!c.active&&a.matches){for(var e in c[d])c[d].hasOwnProperty(e)&&c[d][e].apply(c.mq);c.active=!0}}function h(a,b){return b-a}function i(a,b){return a-b}function j(a){return a.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"-")}function k(){return t}function l(a,b){var c=j(a);u[c]||(u[c]={mq:r.matchMedia(a),active:!1,enter:[],leave:[]},u[c].mq.addListener(g));for(var d in b)b.hasOwnProperty(d)&&u[c].hasOwnProperty(d)&&u[c][d].push(b[d]);g(u[c].mq)}function m(a){var b=j(a);u[b]&&(u[b].mq.removeListener(g),u=u.splice(u.indexOf(u[b]),1))}var n=(b.Plugin("mediaquery",{methods:{_delegate:c}}),{minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"}),o={change:"change.mediaquery",enter:"enter",leave:"leave"},p={state:k,bind:l,unbind:m},q=b.$window,r=q[0],s=!1,t=null,u=[],v={},w={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}(jQuery,Formstone);